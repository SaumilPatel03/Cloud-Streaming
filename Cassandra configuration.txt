-- Step 1: Create Keyspace with Replication Strategy
CREATE KEYSPACE IF NOT EXISTS media_keyspace 
WITH replication = {
    'class': 'NetworkTopologyStrategy',  -- Using NetworkTopologyStrategy for multi-node setup
    'datacenter1': 3  -- Replication factor of 3 across 3 nodes (datacenter1 is a placeholder for your datacenter name)
};

-- Step 2: Create the Table
CREATE TABLE IF NOT EXISTS media_keyspace.video_chunks (
    video_id UUID,
    chunk_index INT,
    video_name TEXT,
    chunk_data BLOB,
    content_type TEXT,
    created_at TIMESTAMP,
    PRIMARY KEY (video_id, chunk_index)
);
